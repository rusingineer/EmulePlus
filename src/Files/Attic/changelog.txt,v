head	1.2;
access;
symbols
	Interim_Release_1f_beta2:1.1
	Interim_Release_1f_beta1:1.1
	PublicRelease_1e:1.1
	Interim_Release_1e_RC2:1.1
	Interim_Release_1e_RC:1.1
	Interim_Release_1e_beta3:1.1
	Interim_Release_1e_beta2:1.1
	Interim_Release_1e_beta2_before_kuchin:1.1
	Interim_Release_1e_beta1:1.1
	PublicRelease_1c:1.1
	featurestest:1.1.0.8
	Interim_Release_1c_RC:1.1
	Interim_Release_1c_beta2:1.1
	Interim_Release_1c_beta1:1.1
	threaded_downloadqueue:1.1.0.6
	PublicRelease_1b:1.1
	Interim_Release_1b_beta2:1.1
	Interim_Release_1b_beta1:1.1
	proxydeadlake:1.1.0.4
	PublicRelease_1a:1.1
	Interim_Release_1a_beta2:1.1
	BerkeleyDb:1.1.0.2
	Interim_Release_1a_beta1:1.1
	PublicRelease_1:1.1
	goldfish:1.1;
locks; strict;
comment	@# @;


1.2
date	2003.05.11.19.25.35;	author lord_kiron;	state dead;
branches;
next	1.1;

1.1
date	2003.02.20.12.52.05;	author dongato;	state Exp;
branches;
next	;


desc
@@


1.2
log
@CServerList moved to use new CSafe array , suppouse to work faster , safer  and to be the step to the virtual list controls .
@
text
@	CHANGELOG FOR EMULE
	===================

v0.26d	
-----------------------
- February 15th, 2003 -
-----------------------
Unk: Fix queue rotation bug. (Some clients were instantly kicked from upload)
Unk: Several optimizations by BadWolf63,ichi
Unk: Minimize to tray gui button bug fixed. (zegzav)
Unk: cDonkey is now in the stats.
Unk: Splitter bar position is now saved correctly.


v0.26c
-----------------------
- February 13th, 2003 -
-----------------------
Unk: Change how we detect Hybrids.
Unk: Changed some slot management. (Some help from VQB)
Unk: It seemed that some uploads tended to be extremely long in Chunk mode. There is now a check to make sure this doesn't happen.
Unk: Files set to auto no longer hang when you resart eMule. (jicxicmic)
Unk: Roundoff error correction for datarates. (Maella)
Unk: Changed some server connect code. eMule now connects a lot smarter with Safe Mode turned off helping with lowID problems.
Unk: Server stats is no longer lost on restart when autoupdate is turned on.
Ornis:Added commandline command: "limits=up,down" (e.g. "emule.exe limits=50,12") to set up-&down- transferlimits
Ornis:Added option to show up&down-rates in the title of the programwindow
Ornis:Middle mousebutton opens the detailwindow for the selected item in download-, upload- and queuelist
Ornis:Fix: webservices in sharedfileslist works again

-----------------------
- February 11th, 2003 -
-----------------------
Ornis:Reenabled statusbaricon for new messages.
Ornis:a number of little fixes, GUI & functional [some from JonnyB]
Unk: Auto saving serverlist & friendlist list fixed.
Unk: Source exchange now only sends needed sources to the client.
Unk: Small gui fixes.
Unk: Fix some more possible secuity issues and memory managments. (Some by beef2k & bluecow & Juanjo)
Unk: Small fix to maxconnection preference.
Unk: Pausing and Priority now saved again at shutdown.

-----------------------
- February 10th, 2003 -
-----------------------
Ozon: Bugfix; ed2k links is now correctly generated by emule for files larger than 2GB...
Ornis:Fixed GUI-issue in commentslistingdialog when resizing the window
Ornis:Show downloadcount above downloadlist
Ornis:Fixed save&restore columnorder of downloadlist
Ornis:Filter for incoming messages (config in prefs-notification, default filterexample "Your client has an infinite queue")


v0.26b
----------------------
- February 8th, 2003 -
----------------------
Unk: Converted a lot of char[] to CStrings to help avoid buffer overruns.
Unk: If hashset is found to have problems, it now reasks for it.
Ornis:Fixed Webservices in Searchview
Ornis:Fixed running preview [jicxicmic]
Ozon: Added persistent backups of .part.met files
Ornis:little GUI fixes
Ornis:added IP-ranges client-filtering (blacklist), using cDonkeys filter-file-format, basic filtering, more to come:)
Ornis:added own IP:Port to MyInfo-Window

----------------------
- February 7th, 2003 -
----------------------
Ozon: Added the macro THIS_FILE to all source code files, to help in finding leaks with VS. (please don't remove)
Unk:  Fixed secutity hole. (bluecow/zegzav)
Unk:  Serverlist and Friendlist are now saved during runtime too
Ornis:Using list with columns for comments-dialog- looks better

----------------------
- February 6th, 2003 -
----------------------
Ozon: Define EMSOCKET_DEBUG for trace log file for EMSocket...
Ozon: Changed packing alignment for most structs/classes (not the critical ones :), still 1 byte) to 8 bytes.
(can improve preformance...)
Ozon: Backup of Clients.met is now done every time emule starts.
Ozon: Variable renaming started... (CAbstractFile, CClientCredits for now...)
Unk:  Few bug fixes. Stats now have a packet counter.

Bug fixes, help from ZegZav, Bluecow, Ese Juani, jicxicmic
Optimizations, help from ichi, Maella, zz


v0.26a
----------------------
- February 2st, 2003 -
----------------------
Ornis: fixed reset serverlog crash
Unk: Fixed security hole. (beef2k)

----------------------
- February 1st, 2003 -
----------------------
Unk: Created a new algorithm to smooth out the spikeing TCP connections. This will help several things..
1) Spiking CPU & Bandwidth when many sources are added or reasked.
2) Help with conflicts between Source Exchange and UDP file reasks allowing UDP to be used more lowering the need for TCP and overhead.
Unk: Irc: Fixed another bug that could cause a crash when you close a channel.
Unk: Queue size is now adjustable.. (FYI: Contrary to belief, queue size has NOTHING to do with the amount of bandwidth overhead..)
Unk: File buffer size is now adjustable. If you are one of them people that is having problems with the buffer, try lowering it.
Unk: Download file priorities are now usable for rechecking sources.

----------------------
- January 31st, 2003 -
----------------------
Unk: Some clients may be reporting completed file status. Did some changes to hopefully stop this.
Unk: Added queue rank of Hybrid eDonkey clients.
Unk: Fixed protocol to allow eMule to stay in the Hybrid's queue.
Unk: Changing IP shouldn't force you to move to the end of the queue anymore.
Unk: Redid sorting of Download list one more time.
Unk: Sources with a full queue is now treated the same as noneededparts..

----------------------
- January 28th, 2003 -
----------------------
Unk: Fixed a bug that displayed eDonkey & eMule versions incorrectly.
Unk: We now detect eDonkey Hybrid Clients and Added Stats in Statistics.
Ornis: Filecompletion in seperate thread [Lord KiRon]
Ornis: added moified socket reading [by Jordy]

----------------------
- January 24th, 2003 -
----------------------
Ornis: support for  Opcode 0x48 (OP_FILEREQANSNOFILE) of the protocol. [references: DoubleT,eMule+/Tarod]
Ornis: used videoplayer is now selectable
Unk: Did a complete rewrite with the Update functions in Queue and Upload list to speed things up.. You should now be able to turn on the Queue Auto update feature without CPU load..
Unk: Redid the Overhead meter. (I no longer try to estimate the TCP and UDP headers) Also added some Overhead statistics.

----------------------
- January 21th, 2003 -
----------------------
Ornis: optimized internal sources-handling, for reduced cpu-load
Ornis: various runtime optimization for reduced cpu-load (statstree, tray&maindlg, GUI) [coop. with EseJuani]
Ornis: Shared files list now supports more multiselect-commands
Ornis: versioncheck at startup (optional) or manually
Ornis: full customizable Web Services for files
Ozon:  Fixed crash when trying to access statusbar before it was created (AddLogLine)

----------------------
- January 20th, 2003 -
----------------------
Unk: Added protcol to allow you to see what chunks a uploader has of the file.
Ornis: indicate files with ratings/comments by an icon in front of the filename (green/red,rating dependend)
Ornis: downloadlist: added sources-viewfiltering using modifier keys (see faq or help for usage!) [xrmb+Ese Juani]

----------------------
- January 19th, 2003 -
----------------------
Unk: IRC:Reconnect crash should be fixed.
Unk: Small change to downloadlist..
Unk: A client's server is now added with you first connect to him, Now, all client's servers you connect to are added to the server list.

----------------------
- January 18th, 2003 -
----------------------
Ornis: languages in selectionbox now labeled in local-language [pooz]
Ornis: fixed Toolbarbuttons always growing when changing languages [pooz]


v0.25b:
----------------------
- January 17th, 2003 -
----------------------
Ornis: file completion working! (thx to all users helping&testing with us)
Unk:   fixed AutoConnect on startup
Ornis: fixed wrong colormapping on the selector
Ornis: Systray-icon speedbar: color selectable in stats-preferences
Ornis: removed titlebar-preferences-menu for win9x users, which caused crashes for them
Ornis: added button to edit "adresses.dat" (in the server-preferences)


v0.25a:
----------------------
- January 12th, 2003 -
----------------------
Unk: Fix for sources being left behind when a file completes causing crashes.
Unk: Fix hash warning when a file is less then one chunk.
Unk: Made some changes to the download list, sources show more information in columns
Ornis: Handling doubleclicks on trayicon safer in respect to other apps in the systray [thx to reCDVst]
Ornis: Basic command line control:
	emule.exe { connect | disconnect | resume | status | exit }
		status: writes the status to file "status.log"
		resume: resumes next paused file


----------------------
- January 11th, 2003 -
----------------------
Ornis: the sort of Downloadlist by status is now using better order than alphabetically
Ornis: Statistics colorselection by colorpicker
Unk: You now have an idea of the bandwidth overhead eMule uses.. 
Ornis: Search now includes minsizes, maxsizes, extension, availability (thanks to Juanjo)
Ornis: language depended date/time-format is now updated during runtime when switching language
Ornis: Help-file access (FAQ-conversion). Avaiable in the download-section and already in the installer version.
Ornis: all statstics of shared files now handle >4GB

----------------------
- January 9th, 2003  -
----------------------
Ozon: Rewrote the hash thread code...
Changes: Now using worker threads instead of user interface threads; less overhead when creating threads.
Uses one thread for all new shared files that needs to be hashed instead of one thread for each file.
Cleans up the thread and associated objects if the user terminates the app when the thread is running.
And other changes...

----------------------
- January 8th, 2003  -
----------------------
Unk: Source asked count was nonfunctional. Fixed.
Unk: All lists now are initialized on a timer to help with win98 compatabilities.. Partially modified patch from Lucus. 
Sony: Search is now canceled when closing the active search tab; added support for Blindwrite, Alcohol 120% (CD Images) and flac (Audio) file extensions
Barry: When reading staticservers.dat file and looking for priority, only accept comma if it is in second position, try to avoid finding comma in server name.
Barry: When changing priority of a static server, also need to update staticservers.dat file.

----------------------
- January 7th, 2003  -
----------------------
Ozon: Added version tag to preferences.ini, to help with compability. Backup of old file and creating a new file for every new version, thereby deleting old and unused tags.

----------------------
- January 6th, 2003  -
----------------------
Unk: Wizard now auto detects OS version.
Unk: Sources now show if their queue is full.
Unk: Fixed a sort issue in the upload queue when the file a client wanted wasn't known yet.
Dirus: We no long ask for sources from clients that don't support it.
Dirus: Increased compatibility between clients (and future potential clients) by using special tags instead of version numbers.

----------------------
- January 4th, 2003  -
----------------------
Unk: Minimize to tray button added [thanks to Zegzav]
Unk: Old MLDonkey clients are now identified. (Some code by Mav)
Unk: Option that allows the client to try to upload based on finishing chunks, not time.. [VQB]
Ornis: Corrected display of '&' on some places
Ornis: Bugfix: Filedetails now closeable by ESC and Titlebar-Closebutton
Unk: Option to auto resume files when a file Completes or is Canceled. (This is meant to work in conjunction with "Added option to start new files from link or search etc. in paused mode". )

Barry:
------
-Saving received data without delay. When requesting files it now asks only for what is needed, not in 180k blocks. Compressed packets are now unzipped as they arrive and written to disk instead of waiting for full block.
-Write buffer:Writing to files is now buffered on a per file basis.The part file is flushed to disk when the buffer reaches 500k or 5 seconds since last flush. (Some code modified)
-Added option to auto-connect only to static servers.
-Added priorities to servers in staticservers.met (Modified for backward compatibiity)
-Option to change manually added servers to high.
-Option to refresh upload queue every 30 seconds.
-Automatically stores the last sort order of list views.
-Changed download list colour bar to show part downloading from client and part(s) pending in different yellows.
-Changed colour gradient to variable strength - level can be set in preferences (General)
-Give priority to part currently being downloaded when requesting next blocks.
-Changed priority order for parts of archives & movies as follows
	1) first (Optional)
	2) last (Optional)
	3) rarest, with priority to second then penultimate parts if same rarity
-Added preview for archives (zip, rar & ace)
-Enable preview when only first and last parts are complete, not first and last two
-Fixed bug that caused corrupt preview file if part wrote to disk during preview file copy.
-Fixed bug that did not tell remote client to stop sending file when it was cancelled.
-Don't run the normal timer processing if the app is shutting down - can cause unhandled exceptions.
-Added option to start new files from link or search etc. in paused mode.
-Added option to automatically set the registry values for ed2k-links to this application while running, then set them back when finished.

----------------------
- January 3rd, 2003  -
----------------------
Ornis: merged fix for better handling of loading corrupt partfiles (gaplist) [from SlugFiller]

----------------------
- December 31st, 2002-
----------------------
Unk: If you cancel a download, everyone queued for that file will be removed from the queue when the next upload slot is freed.
Unk: Support to upload to mutliple clients within a network. (Ie, clients with same IP, different ports) (Reported by Lord KiRon)

----------------------
- December 30th, 2002-
----------------------
Unk: Option to download preview chunks first. (Leaving this option off helps spread files faster.)

----------------------
- December 28th, 2002-
----------------------
Dirus: Fixed sorting by percent complete bug which caused the list to stay unsorted until all status bars had been drawn.
Unk: Small gui preference gui fix. General is no longer defaulted as the title in the preference window.
Unk: Small gui fix in download list. QR is now adjusted when you begin to download from that source.
Unk: Irc: ed2k file links with source attached now clickable.
Unk: Low2LowIP and NoNeededPart sources are slowly removed in the hopes of getting a better source. These sources are only removed when that file is close to it's max sources to prevent sources from being removed or added over and over. Also, if this souce is a AskedForAnotherFile source for another file, it will switch to that file.
Unk: Set up a verbose mode. This is for you people that like to watch useless info. Do Not Report Errors You See In This Window! 

----------------------
- December 27th, 2002-
----------------------
Dirus: Fixed finding yourself as source bug (at last).

----------------------
- December 26th, 2002-
----------------------
Dirus: Added a check for fake versions to the program version statistics.


v0.24b
----------------------
- December 24th, 2002-
----------------------
Dirus: Fixed a bug that made caused eMule to ask the same person for sources instead of a new person after a set time.
Dirus: Fixed a bug that allowed eMule to respond too often (as often as asked) to source sharing requests, rather than according to our preset limits.

----------------------
- December 23rd, 2002-
----------------------
Dirus: Fixed a bug that prevented people who use UDP from getting sources from those with complete files.

----------------------
- December 22th, 2002-
----------------------
Unk: Changing max source per file bug fixed.
Unk: Highest and Release priority bug fixed.
Unk: Search results added to a search list with no tab fixed.
Unk: Some of the connection statistics wasn't updated while not in the statistic window.. Fixed.
Dirus: Made source exchange use compression more aggressively.
 
----------------------
- December 20th, 2002-
----------------------
Dirus: Fixed crash due to stopped/canceled file corrupting the download list controller and the shared file list.
Dirus: Partial fix for preventing ourselves from being readded to a sourcelist when someone sends us back as a source.  (some code by Lord KiRon)
Ornis: Connectionattempts restart when reaching the serverlist-end
Ornis: Added statistics: Clientversions (# of clients using the 4 latest edonkey-/emule-versions) [xrmb] ; server occupation (% of userload on servers with known userlimit)

----------------------
- December 19th, 2002-
----------------------
Dirus: Fixed crash that can occur from a corrupted part.met file.
Dirus: Accepted fix for possible garbage displayed in labels when run with multibyte character set. (by pooz)


v0.24a
----------------------
- December 16th, 2002-
----------------------
Unk: Friend Upload Slots can now be toggled on/off..
Dirus: Fixed a bug that prevent source sharing from working until you had at least one complete part of the file!

----------------------
- December 15th, 2002-
----------------------
Unk: Smart LowId check now helps you keep that HighID when disconnected.
Unk: Safe connect option. (eDonkey style connect.)
Unk: Resumes collecting sources on reconnect.
Dirus: Fixed bug that caused column order to be loaded incorrectly.
Dirus: Fixed bug that could cause crash if invalid table values were manually written to the ini.
Dirus: Fixed bug that prevented source sharing packets from being compressed.
Dirus: Clients with complete files can now also share sources; a source list is built from their upload queue.  (An even more intelligent means of picking sources from upload queue will be included in a later version.)

----------------------
- December 13th, 2002-
----------------------
Dirus: The part.met files are now backed up before being replaced.  The backup files are deleted when new part.met has been written to disk and safely closed.  When loading part.met files we now also check for part.met.backup.
Juanjo: File comment and rating [Thanks to pitap for some code]
Unk: Main screen now shows Users and Files of the server your on.. It also shows a very loose estimate of all Users and Files in the Ed2k network.
Juanjo: Close buttons in search tabs [enkeyDev]
Ornis: Added [eMule+] idea of Sources-Sorting by QueueRating.
Unk/Dirus/Ornis: You can now manually add friends.
Unk: Irc: Some changes to the interface.
Unk: Irc: If another eMule client is in a channel, you can add him as friend.
Unk: Up/Down ration is now the same as eDonkey..
Unk: Several bug and gui fixes. Merged some code from Mods..

----------------------
- December 12th, 2002-
----------------------
Unk: Getting booted from Lugdunum servers due to LowID during is now handled better..
Unk: Using the Wizard did not update the statistic graphs correctly.. Fixed.. 
Unk: Found the LowIP problem after first connect..

----------------------
- December 9th, 2002-
----------------------
Juanjo: Added "List files" to the sources context menus

----------------------
- December 7th, 2002-
----------------------
Unk: Upcomming servers will have a new ServerStatus packet that will be incompatable with previous eMules.. Fixed.
Unk: Added a Max Users to the server list.
Unk: Connection failures to servers should now report the correct error.
Unk: Irc: Channel Tabs got confused when leaving channels.. Fixed.
Dirus: Fixed bug that caused program to leak some resources (GID Objects)

----------------------
- December 5th, 2002-
----------------------
Ornis: New Serverconnecting handling - more reasonable order to connect to servers
Ornis: Pending serverconnection-attempts will be discarded after a timeout to prevent everlasting hanging connection attempts
Ornis: Preferences: Added configuration for maximal new connections per 5 seconds
Juanjo: Added autopriority patch [Thanks to Tarod]


v0.23b
----------------------
- November 30th, 2002-
----------------------
Juanjo: Fixed: when changing between windows without using the toolbar (context menus or taskbar notifier) the toolbar buttons state are not updated
Juanjo: Added support for multiple backup urls in addresses.dat  [Thanks COOLER[T]]
Juanjo: Fixed bug when adding files to download from the search results and the temp directory is inexistent

----------------------
- November 29th, 2002-
----------------------
Juanjo: Group of sources can be appended to ed2k links [Thanks Linearcity] this is the extended edk url format:
		ed2k://|file|fname|size|hash|/|sources@@expiration,src1ip:src1port,src2ip:src2port,...|/
		"@@expiration" is optional: e.g. @@021126 (YY,MM,DD) - always 6 digits
Juanjo: Fixed issue with multiple instances
Juanjo: Added two new statistics values: top download value and top download average value
Dirus: HttpDownload now also accepts x-gzip encoding.
		
----------------------
- November 26th, 2002-
----------------------
Ornis: Added button in transferview, to switch between uploadlist and queuelist (title over the listcontrol)
Ornis: Added Patch in sharedfolderselection to mark multiple subfolders by Ctrl+Click on a folder-checkbox [by VQB]
Ornis: Fixed the disabled Speedselector on Systemmenue

----------------------
- November 25th, 2002-
----------------------
Juanjo: Avoid multiple instances of emule
Ornis:	UDP-Port is now configurable in the preferences (connection)
Ornis:	Ensures some more status-feedbacks be uptodate
Dirus:  Rewrote incoming part highlighted so it doesn't blink on slow or stalled downloads.

----------------------
- November 24th, 2002-
----------------------
Dirus: Added support for gzip encoding to serverlist-download

----------------------
- November 23rd, 2002-
----------------------
Dirus: IRC: Fixed bug where double clicking on empty users list caused a crash.

----------------------
- November 22th, 2002-
----------------------
Juanjo: Patch to show active chunks (yellow) for each downloading source [Cax2]
Juanjo: Patch to avoid saving 0/0 Download Upload Clients to Clients.met [sulamidor]
Juanjo: Several cpu-optimizations [Insh_Allah]
Ornis: 	Addes some handling improvements to the searchwindow, like resultcount-display in search-tabs
Ornis:	Added an option to remove servers from staticserver-list [DonGato]
Ornis:  Now uses lowest free partfile number [InterCeptor]
Dirus:  Some more tweaks and optimizations for autosort.

----------------------
- November 21st, 2002-
----------------------
Unk: Irc: Fixed another crash bug when updating the channel list.
Unk: Irc: Removed SendLink and AddFriend popup menus to put in security mesures for next release.
Ornis: Fixed shifted columnheaders in the searchlist
Dirus: Added autosort to all lists.

----------------------
- November 20th, 2002-
----------------------
Unk: Added a connection wizard in the preference's connection tab.. Win98 users having problems need to use this..
Ornis: Reduced hashing files, when starting emule (tarod)
Ornis: various bugfixes (Insh_Allah) - fixed memleaks, buffer overruns, incomplete initialations, bad memoryaccess

----------------------
- November 19th, 2002-
----------------------
Unk: Asked count is reset when a client reenters the queue to avoid confusion.
Unk: Small tweak to the queue list refresh function to better handle evil clients.

----------------------
- November 17th, 2002-
----------------------
Dirus: Download list has autosort, code is in place to autosort other lists.
Unk: The HyperTextCtrl buffer wasn't able to handle the large amount of text caused by busy IRC channels which cause the channel's text to become unreadable.. Fixed..
Unk: Irc: Added a preference to ignore all info messages so you can see through all the clutter in a channel.
Unk: Irc: Increased font size so those at 1024X768+ didn't need a magnifying glass to read the text. :)
Unk: Asked count is reset when a client reenters the queue to avoid confusion.
Unk: Small tweak to the queue list refresh function to better handle evil clients.

----------------------
- November 16th, 2002-
----------------------
Unk: Upload prioity is now saved for files currently being downloaded.
Ornis: Added quick-Speedselector (xrmb +) to systray-popupmenu and systemmenu
Ornis: Fixed bug concerning column-handling at save&restoring

----------------------
- November 15th, 2002-
----------------------
Ornis: Option to start emule minimized
Ornis: Fixed 2 bugs concerning sorting downloadlist by progress
Ornis: Stats: Fixed function and enabled slider in the stats-preferences to change the duration of the average graphs
Ornis: Stats: Graphcolors are now selectable (using RGB-values)
Unk: Changed tranfered data in shared files to support 4GB+..

----------------------
- November 14th, 2002-
----------------------
Ornis: Added mousecontrol to the Sourcefilenames-List in Filedetailsdialog

----------------------
- November 13th, 2002-
----------------------
Dirus: Added a warning for windows 9X/ME users who set their max connections to high.
Unk: Irc:Added support so that two eMule clients can directly send ed2k links to each other.
Ornis: Show counts of Filenames at sources in the filedetails (Juanjo)
Ornis: Renaming filename of downloads (in filedetails) & cleanup name (. _ %20 leading caps)
Ornis: Copy Serverlink in popupmenu of the serverlist (Interceptor)

----------------------
- November 12th, 2002- (nice date)
----------------------
Ornis: Show filetype in Sharedfiles-list
Ornis: Tabs in preferences now translated (Interceptor)

----------------------
- November 11th, 2002-
----------------------
Unk: Irc:Fixed the nick already used when logging in bug.
Unk: Irc:Preference now has: Server, Nick, Perform, Load Serverlist, Serverlist Filters. ( Perform example: "/msg nickserv identify | /join #emule" )
Unk: Irc:You can now use /msg nickserv and /msg chanserv...
Unk: Irc:Hyperlinks now work in a Notice and Info message.
Unk: Irc:The Strip Color function could crash with some strings.
Unk: Irc:The % char is now handled correctly.
Unk: Irc:Ready for the friends list.
Unk: Irc:Channels are now Tabs.

----------------------
- November 10th, 2002-
----------------------
Dirus: Preview now works with extensions longer than 3 characters, fixed other minor issues related to extension length.
Dirus: Fixed bug where previewed file was not deleted when unable to spawn associated program.

----------------------
- November 8th, 2002-
----------------------
Dirus: Download list now also has draggable columns.
Dirus: Increased accuracy of percent completed from int8 to float.

----------------------
- November 7th, 2002-
----------------------
Dirus: Files with duplicate names are now saved correctly after download.

----------------------
- November 6th, 2002-
----------------------
Dirus: Arrays are stored on 1 line in the ini.
Dirus: size, position, and hidden status of all tables are now saved.

----------------------
- November 3rd, 2002-
----------------------
Unk: Added a IRC client (With help from Merkur)
Unk: HyperTextCtrl now detects ed2k://
Unk: Some server were deleted even when the option was unchecked.
Ornis: Added preferences tab for statistics-setup
Ornis: Number in front of sources-count now gives the real useful-sources count (onqueue+downloading sources)

----------------------
- Oktober 31st, 2002-
----------------------
Dirus: Added support for "double arrows" (for 3 columns of shared-files list)
Dirus: Small visual changes, download list can now hide/show columns.
Ornis: Added export of Online Signature (by Bouc7)
Ornis: Added logmessage when sharedfiles-list is requested

----------------------
- Oktober 30th, 2002-
----------------------
Dirus: Update all column headers on language change (thanks to InterCeptor for the idea).  Also, server list window will now localize.
Dirus: Added more colors to search results to indicate downloading file and already downloaded file (had to rewrite code but thanks to Amdribant for the idea).
Ornis: Downloads running out of diskspace can now be resumed without restart

----------------------
- Oktober 29th, 2002-
----------------------
Dirus: Added hide/show columns to all lists except download.  Use by right clicking on column header.
Ornis: Fixed changing userhash
Ornis: Fixed adding Serverlink at startup (Cax2)

----------------------
- Oktober 28th, 2002-
----------------------
Dirus: Fixed a tooltip divide by 0 bug due to availability calculation in the transfer window

----------------------
- Oktober 26th, 2002-
----------------------
Dirus: Added new icon for unknown sources.
Dirus: All lists except download list now have draggable column headers.
Ornis: fixed using Translations to work on Win9x

----------------------
- Oktober 25th, 2002-
----------------------
Dirus: Changed appearance of all lists except download list, also added sort arrows for all of them.  Changed icons in all lists to be theme friendly, background color now matches.  Got rid of CIconList as it was no longer needed (it was a hack anyway).
Unk: Cleaned up some of the statistic code and added some stats.

----------------------
- Oktober 24th, 2002-
----------------------
Unk: Some internal changes.. Servers now only use listname(Removed realname). Removed availible column in the search(It was a duplicate of sources). That freaking staticserver was still overwriten by a server.met.. Fixed. The Ban count was redone so it will not mess up anymore.
Unk/Dirus: Now updates server name and description at connect.. (Cax2)(Merkur didn't like the code, so it may need cleaned up..)

----------------------
- Oktober 20th, 2002-
----------------------
Unk: Sorting the server list now supports dynamic ips. Sorting by description works better. All sorts are no longer case sensitive.
Unk: Added some network statistics.
Unk: If you add a server from a server.met url or manually and it's already in the list, the name and desctiption is updated.
Ornis: Added button to reset the log

----------------------
- Oktober 19th, 2002-
----------------------
Unk: Added a "upload time" column to the upload list..
Unk: The server list now has a few save points. Also, servers were deleted with fewer failures directly after connecting then while connected, fixed.
Unk: You can now do multiple searches.
Unk: You can now unban a person in the upload queue.. (Unless Merkur doesn't like it and deletes it.. :)
Unk: Small patch to the static servers. No longer over written with autoupdate and you can use a "," or a ":". (dongato)
Ornis: new average graph for the transfer-rates, calculated over time (5mins default)

----------------------
- Oktober 18th, 2002-
----------------------
Unk: Added a "Entered Queue" column for the queue list. Asked count now continues to count for banned users.
Unk: More server statistics.
Ornis: Show number of available parts of a download and keeps the last date when all parts has been available

----------------------
- Oktober 17th, 2002-
----------------------
Dirus: Downloadlist:improved drawing of the sources, general list-behaviour and sorting
Ornis: new statistic values and new columns for the shared-folder list (4phase sorting) which is now autoupdating
Ornis: Language support improved. Supporting sublanguages now and hopefully working on all systems.
----------------------
- Oktober 14th, 2002-
----------------------
Merkur: several bugfixes were added/merged

----------------------
- Oktober 12th, 2002-
----------------------
Unk: You can now sort the Queue and Upload list.
Unk: Very Low priority bug fixed.
Merkur: localized all dialogs
Merkur:	Upload spikes should be reduced
Merkur: dead clients are deleted form your uploadlist properly now
Merkur: Added a preview function which allows you to preview movies. Read the FAQ for more informations

----------------------
- Oktober 10th, 2002-
----------------------
Unk: Fixed a bug with when you cancel multiple downloads.. (CML)
Ornis: main-preferences are now stored in an .ini -file. -> more compatibility for coming versions
Ornis: localized emule-output of messages. Thanks to various translators for translating the text itself:)

----------------------
- Oktober 09th, 2002-
----------------------
Unk: The gui no longer lags as much when a lot of server are deleted.
Unk: You can now switch between the upload list and the queue list in the transfer window. (Based on Bouc7)
tecxx: updated tooltip info texts
tecxx: added upload priority, finally.
tecxx: added "staticservers.dat" file. file will be loaded at startup and includes your standard servers you always want to have in the list. format: "host:port,Servername"

----------------------
- Oktober 07th, 2002-
----------------------
Unk: Reworked a little with how servers are maintained internallly, hopefully no more crashes when deleting servers..
Unk: Tweaked how server stats are aquired.
Unk: Priority now works when connecting to servers and dead server are now removed while connected instead of only directly after connecting.

----------------------
- Oktober 03rd, 2002-
----------------------
pach2: fixed the ed2k link creation, copy to clipboard feature (added missing / at the end of links)
pach2: added traces for some socket operations (debug build only)
Ornis: fixed a crashbug at shutdown with selected searchresults
Ornis: Added multiselection to searchresults
Ornis: Added multiselection to serverlist (multi-server-removal & try connecting to selected servers)
Ornis: Added stop-connecting-function to the connectbutton
Ornis: Shared-files-list made sortable
tecxx: added a tooltip control to the download & upload windows currently displaying the filename of the client u r loading from, more info will be added.
Merkur: Adjusted the antiagressive clientsystem to be less aggressive. Also banned clients are unbanned after 5 hours
Merkur: fixed some (crash)bugs and memleaks 

----------------------
- Oktober 02nd, 2002-
----------------------
Ornis: Added Transferdialog-Splitbar to resize Download/Uploadwindow
Ornis: Fixed GDI Memleak
Ornis: new statistic values: "Time Since First Transfer","Reconnects","Connected To Server Since","Transfer Ratio","Clientversions"
Ornis: Changed: Up/Down Graphs show 4 additional kB/s than the specified capacities (to see peaks)
Ornis: Added: File-Detaildialog for downloads
Merkur: fixed a UDP bug which caused that some incoming packets were ignored
Merkur: adjusted the creditsystem formula

----------------------
- Oktober 01st, 2002-
----------------------
tecxx: hopefully solved the issues with the shared files selector on w9x. thanks LOVELACE from the board!
tecxx: added gui code in shared files window to set permission and priority levels
tecxx: emule now responds to "view shared files" command in edonkey friendslists, it shows only files based on permission settings

----------------------
- September 30th, 2002-
----------------------
Unk: Outgoing udp packets was sometimes sent to the wrong port.
Unk: Detecting dead servers was buggy.

----------------------
- September 28th, 2002-
----------------------
pach2: Fixed the following problem:
 Description: When i download this link ed2k://|file|HL_CS_english_retail.iso|462401536|78b84dd256bde2fe9f4cdccea2868208|
		      via the search menu, emule tells me "invalid link" and CRASHES. when i download the link via START - RUN all is fine.
Ornis: Added file category-selection to search
Ornis: added option: "filter invalid IPs" in preferences
Merkur: added Splashscreen (thanks to DRSirius for the image) and fixed some bugs
Unk: Servers Stats are now recieved when a server is added..
Unk: Fixed a memleak that was created when trying to search servers when not connected.. Also corrected a couple opcodes for the serverlist. 
----------------------
- September 27th, 2002-
----------------------
tecxx: added "create ed2k link" feature (incl. html version) to download, shared files and search lists.
Merkur: you can now use addresses like myserver.dyndns.net instead of IPs for server. Server admins please read the faq(http://....) to learn how to automatically assign an address to your server when an emule client connects.
Ornis: added separat statistic window
Ornis: filtering bad servers extended to filter more invalid IP-ranges
Ornis: more options in preferences: prompt on exit, number of failed retries to connect a server before removing it


----------------------
- September 26th, 2002-
----------------------
Merkur: The anti aggressive client system is working now. read the faq to learn more about it (http://...)
Merkur: rewrote some parts of the networkcode, this shouldn't have any effects for the enduser though


----------------------
- September 23th, 2002-
----------------------
Merkur: Added a webbased-search option via filedonkey.com
Ornis: various interface tweaks, restoring program-window & download listcolumns,more keyboard support, ESC minimizes...


----------------------
- September 21th, 2002-
----------------------
Merkur: the new antiaggressive-client system seems to have some serious bugs and is disabled for now. It will be back in 0.20 when it is fixed & tested
Unk: Server list changed from a tree to a list. ( Based on MrFry code)
Unk: Server list now updates users and files information from connected server.
Unk: Mark and Delete server preference now works. (Only during the connection process)
Unk: Tweaked the queue so that it now skips dead clients.
Unk: Added Max source per file option. eMule will also back off the servers while a file is close to this value.
Unk: Opera should no longer have the %20 problem.
Unk: 0.0.0.0 IPs no longer added to server list.
Unk: Timestamp to log entries. (Ornis+)
Unk: Download list now has Status and Time remaining (Ornis+)(CML)
Unk: Completed and shared files can now be opened.. (CML)
Unk: Server list is now saved.
pach2: ed2k://|server| pseudo-URL links are now handled and added to server list


----------------------
- September 20th, 2002-
----------------------
Merkur: my new coded socketclass didn't worked too well and needs to be rewritten again (which takes a lot time) but I made some changes to the current networkcode in order to avoid the crashbug and it seems to work. So hopefully emule should run more stable now
Merkur: Fixed a bug which caused all partfiles to be unshared when using the reload button
Merkur: emule should now pay more attention to the Max_Connections setting
Merkur: The creditsystem does not use a part of the IP as userkey anymore
Merkur: emule detects "aggressive" clients, which reask too often for a file and bans them (for the current session)
Merkur: some other bugs are fixed

----------------------
- September 19th, 2002-
----------------------
Unk: Servers with same IP but different Ports are now valid.
Unk: Small tweak to the add client's server to serverlist option.
Unk: Moved some messageboxes to the window log to avoid issues.

----------------------
- September 17th, 2002-
----------------------
tecxx: 2 fixes by TALAN(icq) - fixed problems when resizing downloadwindow

----------------------
- September 16th, 2002-
----------------------
tecxx: implemented new shared files selector
tecxx: new option: add server's serverlist. if active, emule asks the server for a list of know servers right after a successful connection
tecxx: new option: add client's server to serverlist. if active, emule adds the server ip and port of a connecting client to the serverlist
tecxx: fixed single server remove crash
tecxx: added multiselect code in download window (thanks to Mr.Fry from the board!)

----------------------
- September 14th, 2002-
----------------------

Merkur: implemented a new about dialog.. no it still doesn't show your id, but it looks way better ;)
Merkur: Finally the new credit system is in. Basically clients which uploaded to you will get a higher priority. Check the FAQ (emule-project.net) for a detailed description. A client with a yellow symbol in your uploadlist means that this client is prefered because of the credit system. You can check the detailed info screen to get more infos about his credits. However it's in the testing stage atm and probably some values will be adjusted later

Merkur: shared files now have a statistic, which will show you how often a files was requested, accepted and how much bytes you uploaded.
Merkur: partfiles are now "writeprotected" while emule runs, so you can't mess them (and cause errors) by  reading/writing them with another application.
Merkur: emule won't crash with a "out of memory" message anymore if it reads a corrupted .met file
Merkur: Fixed some bugs. Hopefully emule will run more stable now. Check for a "b" version in the next days, which will be released of any critical bug will be found in 0.19a (of course we test version before releasing them, but you knwo its impossible to find all bugs)

----------------------
- September 11th, 2002-
----------------------
tecxx: shared files: added a reload button
tecxx: serverwnd.cpp - fixed problem when adding server with 5-digit port number
tecxx: download control now displays "Complete" when download is completed.
tecxx: invalid characters like < " and ? are now removed from completed files
tecxx: added 3 options: remove server, remove all servers and add external server.met
tecxx: added a tracker mechanism to keep track of opened/closed server-connect sockets
tecxx: "add server" function now checks if server is already in list
tecxx: fixed 2 small memleaks

----------------------
- September 10th, 2002-
----------------------
(0.18b "Hotfix" ;) )
Merkur: Fixed a critical bug which caused the client to drop all compressed packets (with the message: Corrupted compressed packet for X received)
Merkur: Some other bugs are fixed too

----------------------
- September 7th, 2002-
----------------------
Merkur: Added a first part of the eMule-Protocol. This protocol will offer several features, but will only work for clients which are supporting this protocol (atm only emule v0.18 and higher). The download and uploadwindow will show an icon with a green "+" on clients which are supporting this protocol.

Merkur: (eprot only) Files are now send in compressed packets. Depending on the file you are downloading this will reduce the downloadsize by (estaminated):
0%	zip/ace/rar 	and other archives. These files are sent unpacked (because they are already max. compressed)
2-15%	bin/avi/mp3 	these files are already compressed very often, however a moderate-small size reduction is possible
15%-?	unpacked files	the size of unpacked files can be greatly reduced, however it doesn't happen that often that you download a unpacked file
Another advantage of compression is, that compressed packets are checked for transfer errors. That means emule will recognize a corrupted packet and you have to redownload 180KB instead of 10MB.
However everything has a downside: Compression needs some CPU time but you shouldn't notice it.
NOTE: This also means that it can happen that a file is finished before "transfered" has reached the filesize. this is no bug.

Merkur: (eprot only) you can now see which rank you have on the uploadqueue of of sources. It's shown in the downloadwindow/priority tab.
Merkur/mbobka : emule crashed/frezzed somtimes while completing files. This should hopefully be fixed. We are working on all bugs (especially on crashbugs). Please be patient :)
Merkur: Added a autoconnect on startup option


----------------------
- September 4th, 2002-
----------------------
Merkur:  If a servermessage contains a link (http, www, email etc) emule will make this link clickable. So if you click on this link you will browse to this site/open your mailprogramm etc. ED2K links are not clickable yet.
Merkur:  emule should pay more attention to the downloadlimit now
Merkur:  due to popular demand I changed the global search: the global search will not start untill your server gave a respond. This will slow down global searches a bit, but will avoid server-overhead.
Merkur:  some bugs are fixed. however there are still many bugs, which I wasn't able to dectect yet. So if eMule crashes on your PC please use the Debug version and send me a bugreport (read the debug.txt)
Merkur:  adresses.dat now doesn't contain any serverlist anymore. Maurices serverlist was for testing only, however quite a few ppl are using emule now which will cause lots of traffic. Of course you can still paste the serverlist of your choice into adresses.dat.
If you want to support eMule with a (good) serverlist-mirrow/generator which will be used as emules standart serverlist then mail me.

----------------------
- September 3th, 2002-
----------------------
Merkur:  Added clientdetails (right click on any client and select show details)
Merkur:  You can pause & stop files now. Pause means emule tells its sources source to stop downloading but keeps them. Stop will delete all sources. Other than that pause & stop are equal. NOTE: pausing a download and resume it WILL NOT SPEED UP ANYTHING. This is not edonkey
Merkur:  You can clear completed files from your downloadlist.

----------------------
- September 2th, 2002-
----------------------
Merkur:  optional emule will minimize to a systemtray icon
Merkur:  the statusbar shows you if you have a low or high ID: if the connected icon has yellow arrows you have a low id, if it has green arrows you have a high id.
  (BTW: keep in mind that low id's a VERY bad for emule at this point, because not all low id functions are implemented)
Merkur:  you can now connect to a certain server (right click on the serverlist)
Merkur:  there is a new emule Debug version. If emule crashes on your pc and you want to help to resolve this by sending a bugreport, then please download the debug version. Read the debug.txt for more informations.

----------------------
- September 1th, 2002-
----------------------
Merkur:  ED2k link were bugged and a wrong fileid was given to emule. this is fixed now
Merkur:  fixed a interface bug (http://sf.net/tracker/index.php?func=detail&aid=602996&group_id=53489&atid=470504)
Merkur:  added a small feature request (http://sf.net/tracker/index.php?func=detail&aid=603008&group_id=53489&atid=470507)
Merkur:  canceling files could cause a crash

--------------------
- August 31th, 2002-
--------------------
Merkur:  emule now supports ED2K filelinks :) You can click links in your browser (like edonkey) or enter them directly on the search page to add a new file.
Merkur:  if a client asks for a part file and is not known as a source for this partfile he will be asked & added
Merkur:  rewrote udp search
Merkur:  file priority works. Keep in mind that priorities are relativ. That means if you are downloading 10 files and set them all to high prio, it would have the same effect as if you would set them all to low priority. However if you set one of this ten files to high priority then this file will probably get more sources.

--------------------
- August 30th, 2002-
--------------------
Merkur:  the eMule window is now maximize- and resizeable (thanks to Paolo Messina, who coded a usesful resize-library)

--------------------
- August 28th, 2002-
--------------------
Merkur:  you are now able to send and receive messages
Merkur:  as alwasy some other bugs are fixed (and probably some new introduced) (tm)

--------------------
- August 25th, 2002-
--------------------
Merkur:  emule will download the first and last two parts from movies first (if possible) to make it easier to preview movies. (but don't touch part files while emule is running!) 

--------------------
- August 24th, 2002-
--------------------
Merkur:  fixed a problem with downloading files which are smaller than 10MB

--------------------
- August 22th, 2002-
--------------------
Merkur:  fixed some (crash) bugs. emule should be quite stable now. At least it didn't crashed in my longtime tests :)

--------------------
- August 21th, 2002-
--------------------
Merkur:  fixed a bug which caused problems with completing files (actually it was impossible)
Merkur:  New Feature: Intelligent Corruption Handling - ICH (first stage). This should reduce the average (re)download size of corrupted parts form 10 MB (one full part) to 5 MB. However it needs some CPU time, so if you have a very fast connection (LAN for exmample) you should disable this.
Merkur:  New Feature: Autoupdate serverlist. If you activate this (on your preferences screen) emule will download a new serverlist at startup. You can set the downloadadress in "adresses.dat". ATM it uses maurice's serverlist - please change this to your favorite serverlistadress :)
Merkur:  fixed some minor memory leaks. emule is leakfree atm ;)
Merkur:  as alwasy some minor bugs are fixed (and probably some new introduced ;) )

--------------------
- August 20th, 2002-
--------------------
Merkur:  fixed more bugs (more crashbugs, some protocol errors and misc bugs :) )
Merkur:  fixed a huge memoryleak which was introduced in version 0.1a or 0.1b. However there is still a small memoryleak, which I wasn't able to track down yet, it should be fixed in the next version though
Merkur:  you can now sort searchresults and downloads (/clients)


--------------------
- August 19th, 2002-
--------------------
Merkur:  fixed several bugs (most of them crashed emule)

--------------------
- August 17th, 2002-
--------------------
Merkur:  Download is working now
Merkur:  You can now cancel a downloading file
Merkur:  some bugs and many other small things fixed

--------------------
- August 15th, 2002-
--------------------
Merkur:  the downloadwindow should be flicker free now
Merkur:  serverstatus (users & files) is displayed

--------------------
- August 14th, 2002-
--------------------
Merkur:  After eMule found about 1000 sources for a file in my tests I deceided to implement the Max-Connections Setting.

--------------------
- August 13th, 2002-
--------------------
Merkur:  you can now connect to low ip clients (but you still need a high id)
Merkur:  looking for sources on your server works. UDP source-lookup is in too now
Merkur:  you can start downloading something from your searchlist (however download-transfer is not in yet)
Merkur:  source part status is in and displayed
Merkur:  fixed some bad crash bugs
Merkur:  fixed some memoryleaks

--------------------
- August 9th, 2002 -
--------------------
Merkur:  part files are now shared and other edonkey clients are able to download parts
Merkur:  uploading clients will be kicked after some time to allow other clients to download (depends on score of the uploading client und the clients in queue.. in general (without any factors) it should be ~ 15 min

--------------------
- August 8th, 2002 -
--------------------
Merkur:  finished the progressbar for downloading files
Merkur:  fixed a bug in uploadwindow which showed wrong informations sometimes
Merkur:  searchlist will now paint frequent files blue (like edonkey does)

--------------------
- August 5th, 2002 -
--------------------
Merkur:  emule can now read & check part.met files
Merkur:  some code cleanups & some minor bugs fixed

--------------------
- August 4th, 2002 -
--------------------
Merkur:  Implemented basic upload abilities. However it's not complete yet and only high-ID to high-ID transfer is possible in most cases.

--------------------
- July 31th, 2002  -
--------------------
Merkur:  fixed a bug with fileids (checksum was wrong sometimes)

--------------------
- July 7th, 2002   -
--------------------
Merkur:  first (source only) Release
@


1.1
log
@*** empty log message ***
@
text
@@

