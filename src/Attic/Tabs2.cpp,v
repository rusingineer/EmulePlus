head	1.2;
access;
symbols
	Interim_Release_1k_beta1:1.1
	PublicRelease_1j:1.1
	Interim_Release_1J_RC3:1.1
	Interim_Release_1j_RC3:1.1
	Interim_Release_1j_RC2:1.1
	Interim_Release_1j_RC1:1.1
	Interim_Release_1j_beta2:1.1
	Interim_Release_1j_beta1:1.1
	PublicRelease_1i:1.1
	Interim_Release_1i_RC6:1.1
	Interim_Release_1i_RC3:1.1
	Interim_Release_1i_RC2:1.1
	Interim_Release_1i_RC1:1.1
	Interim_Release_1i_beta3:1.1
	Interim_Release_1i_beta2:1.1
	Interim_Release_1i_beta1:1.1
	PublicRelease_1h:1.1
	Interim_Release_1h_rc2:1.1
	Interim_Release_1h_RC1:1.1
	Interim_Release_1h_beta2:1.1;
locks; strict;
comment	@// @;


1.2
date	2004.03.22.05.23.51;	author aw3;	state dead;
branches;
next	1.1;

1.1
date	2003.08.23.00.20.51;	author forcha;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Tabs2.cpp & Tabs2.h removal
@
text
@// Tabs2.cpp : implementation file
//

#include "stdafx.h"
#include "Tabs2.h"
#include "UseDialogFont.h"

#ifdef _DEBUG
#define new DEBUG_NEW
#undef THIS_FILE
static char THIS_FILE[] = __FILE__;
#endif

/////////////////////////////////////////////////////////////////////////////
// CTabs2

CTabs2::CTabs2()
{
}

CTabs2::~CTabs2()
{
}


BEGIN_MESSAGE_MAP(CTabs2, CTabCtrl)
	//{{AFX_MSG_MAP(CTabs2)
	ON_WM_ERASEBKGND()
	ON_WM_PAINT()
	//}}AFX_MSG_MAP
END_MESSAGE_MAP()

/////////////////////////////////////////////////////////////////////////////
// CTabs2 message handlers

BOOL CTabs2::OnEraseBkgnd(CDC* pDC) 
{
	return FALSE;
}

void CTabs2::OnPaint() 
{
	CPaintDC dc(this); // device context for painting

	CRect rClient;
	GetClientRect(rClient);

	CDC MemDC;
	CBitmap MemBMP;

	MemDC.CreateCompatibleDC(&dc);
	MemBMP.CreateCompatibleBitmap(&dc, rClient.Width(), rClient.Height());
	CBitmap *pOldBMP = MemDC.SelectObject(&MemBMP);

	MemDC.FillSolidRect(rClient, RGB(200,200,225));
	CUseDialogFont Font(&MemDC);

	for(int i = 0; i < GetItemCount(); i++)
	{
		DrawItem(&MemDC, i);
	}

	dc.BitBlt(rClient.left,rClient.top,rClient.Width(),rClient.Height(), &MemDC, 0,0, SRCCOPY);
	MemDC.SelectObject(pOldBMP);
}

void CTabs2::DrawItem(LPDRAWITEMSTRUCT lpDIS)
{
	CDC dc;
	dc.Attach(lpDIS->hDC);
	CUseDialogFont Font(&dc);
	DrawItem(&dc, lpDIS->itemID);
	dc.Detach();
}

void CTabs2::DrawItem(CDC *pDC, int iItem)
{
	CRect rItem;
	GetItemRect(iItem, &rItem);
	rItem.DeflateRect(1,1);

	
	char szText[128];
	TCITEM tcItem;
	tcItem.mask = TCIF_TEXT;
	tcItem.pszText = szText;
	tcItem.cchTextMax = sizeof(szText);
	GetItem(iItem, &tcItem);

	if(iItem == GetCurSel())
	{
		pDC->FillSolidRect(rItem, RGB(200,225,200));
		pDC->SetTextColor(RGB(0,0,0));
	}
	else
	{
		pDC->FillSolidRect(rItem, RGB(175,175,200));
		pDC->SetTextColor(RGB(200,200,225));		
	}

	pDC->DrawText(szText, rItem, DT_CENTER|DT_VCENTER|DT_SINGLELINE);
}
@


1.1
log
@*** empty log message ***
@
text
@@

