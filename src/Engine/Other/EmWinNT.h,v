head	1.2;
access;
symbols
	PublicRelease_1_2e:1.2
	Interim_Release_1-2e_RC1:1.2
	PublicRelease_1_2d:1.2
	Interim_Release_1-2d_RC1:1.2
	Interim_Release_1-2d_beta1:1.2
	PublicRelease_1_2c:1.2
	Interim_Release_1-2c_RC1:1.2
	Interim_Release_1-2c_beta1:1.2
	PublicRelease_1_2b:1.2
	Interim_Release_1-2b_RC1:1.2
	PublicRelease_1_2a:1.2
	Interim_Release_1-2a_RC1:1.2
	Interim_Release_1-2a_beta2:1.2
	Interim_Release_1-2a_beta1:1.2
	PublicRelease_1_2:1.2
	Interim_Release_1-2_RC1:1.2
	Interim_Release_1-2_beta1:1.2
	PublicRelease_1_1g:1.2
	Interim_Release_1-1g_RC3:1.2
	Interim_Release_1-1g_RC2:1.2
	Interim_Release_1-1g_RC1:1.2
	Interim_Release_1-1g_beta2:1.2
	Interim_Release_1-1g_beta1:1.2
	PublicRelease_1_1f:1.2
	Interim_Release_1-1f_RC1:1.2
	PublicRelease_1_1e:1.2
	Interim_Release_1-1e_RC2:1.2
	Interim_Release_1-1e_RC1:1.2
	Interim_Release_1-1e_beta1:1.2
	PublicRelease_1_1d:1.1
	Interim_Release_1-1d_RC1:1.1
	PublicRelease_1_1c:1.1
	Interim_Release_1-1c_RC1:1.1
	Interim_Release_1-1c_beta2:1.1
	Interim_Release_1-1c_beta1:1.1
	PublicRelease_1_1b:1.1
	Interim_Release_1-1b_RC1:1.1
	PublicRelease_1_1a:1.1
	Interim_Release_1-1a_RC2:1.1
	Interim_Release_1-1a_RC1:1.1
	Interim_Release_1-1a_beta2:1.1
	Interim_Release_1-1a_beta1:1.1
	PublicRelease_1_1:1.1
	Interim_Release_1-1_beta1:1.1
	PublicRelease_1o:1.1
	Interim_Release_1o_RC1:1.1
	Interim_Release_1o_beta1:1.1
	PublicRelease_1n:1.1
	Interim_Release_1n_RC2:1.1
	Interim_Release_1n_RC1:1.1
	PublicRelease_1m:1.1
	Interim_Release_1m_beta1:1.1
	PublicRelease_1l:1.1
	Interim_Release_1l_RC3:1.1
	Interim_Release_1l_RC2:1.1
	Interim_Release_1l_RC1:1.1
	Interim_Release_1l_beta2:1.1
	Interim_Release_1l_beta1:1.1
	PublicRelease_1k:1.1
	Interim_Release_1k_RC4:1.1
	Interim_1k_RC3:1.1
	Interim_1k_RC2:1.1
	Interim_Release_1k_RC1:1.1
	Interim_Release_1k_beta5:1.1
	Intrerim_Release_1k_beta4:1.1
	Interim_Release_1k_beta1:1.1
	PublicRelease_1j:1.1
	Interim_Release_1J_RC3:1.1
	Interim_Release_1j_RC3:1.1
	Interim_Release_1j_RC2:1.1
	Interim_Release_1j_RC1:1.1
	Interim_Release_1j_beta2:1.1
	Interim_Release_1j_beta1:1.1;
locks; strict;
comment	@ * @;


1.2
date	2005.03.22.22.02.09;	author kuchin;	state Exp;
branches;
next	1.1;

1.1
date	2003.12.16.17.44.22;	author kuchin;	state Exp;
branches;
next	;


desc
@@


1.2
log
@v2 - enhancing logging subsystem
@
text
@// EmWinNt.h: interface for the CArlNt class.
//
//////////////////////////////////////////////////////////////////////
#ifdef NEW_SOCKETS
#if !defined(AFX_ARLNT_H__566F5322_6BCF_4D6D_AB47_21C3FCBBE7F7__INCLUDED_)
#define AFX_ARLNT_H__566F5322_6BCF_4D6D_AB47_21C3FCBBE7F7__INCLUDED_

#if _MSC_VER > 1000
#pragma once
#endif // _MSC_VER > 1000

class CEmDynModule : public CLoggable2
{
protected:
	HMODULE m_hDll;
	void Uninit();
public:
	CEmDynModule() : m_hDll(NULL) {}
	~CEmDynModule() { Uninit(); }
	inline bool IsInitialized() { return NULL != m_hDll; }
};

class CEmWinNT : public CEmDynModule
{
public:
	CEmWinNT();

	HANDLE (WINAPI	*m_pfnCreateIoCompletionPort)(HANDLE, HANDLE, DWORD, DWORD);
	BOOL (WINAPI	*m_pfnGetQueuedCompletionStatus)(HANDLE, PDWORD, PDWORD, OVERLAPPED**, DWORD);
	BOOL (WINAPI	*m_pfnPostQueuedCompletionStatus)(HANDLE, DWORD, DWORD, OVERLAPPED*);
	BOOL (WINAPI	*m_pfnTryEnterCriticalSection)(CRITICAL_SECTION*);

	static CEmWinNT s_stWinNT;
};

class CEmMswSock : public CEmDynModule
{
public:
	CEmMswSock();

	BOOL (WINAPI *m_pfnAcceptEx)(SOCKET, SOCKET, PVOID, DWORD, DWORD, DWORD, DWORD*, OVERLAPPED*);
	void (WINAPI *m_pfnGetAcceptExSockaddrs)(PVOID, DWORD, DWORD, DWORD, SOCKADDR**, int*, SOCKADDR**, int*);
};

#endif // !defined(AFX_ARLNT_H__566F5322_6BCF_4D6D_AB47_21C3FCBBE7F7__INCLUDED_)
#endif@


1.1
log
@New engine
@
text
@d12 1
a12 3
#include "../../Loggable.h"

class CEmDynModule : public CLoggable
@

